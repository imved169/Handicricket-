
<!DOCTYPE html>
<html>
<head><title>Match Summary</title></head>
<body>
  <div id="summaryContainer">
    <h2>🏆 Match Summary</h2>
    <div id="inningsBreakdown"></div>
    <h3 id="mvpDisplay"></h3>
    <button onclick="shareSummary()">Share Result</button>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";
    import { firebaseConfig } from './firebase.js';

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const room = new URLSearchParams(window.location.search).get("room");

    onValue(ref(db, `rooms/${room}/summary`), (snap) => {
      const data = snap.val();
      document.getElementById("inningsBreakdown").innerHTML =
        data.innings.map(inn => `<p>${inn.team}: ${inn.runs}/${inn.wickets}</p>`).join('');
      document.getElementById("mvpDisplay").textContent = "MVP: " + data.mvp;
    });

    function shareSummary() {
      alert("Summary sharing not implemented.");
    }
  </script>
</body>
</html>
